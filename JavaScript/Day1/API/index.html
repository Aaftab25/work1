<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

</head>

<body>
    <header>
        <!-- place navbar here -->
    </header>
    <main>  
        <div class=" mt-5 w-50 mx-auto">
            <table id="table" class="border table table-striped">

            </table>
        </div>
        <div class="form-group mt-5 w-50 mx-auto">
            <select id="my-select" onchange="showData(this.value);" class="form-control" >
                
            </select>
            <!-- onclick="showData(id)" -->
            <table id="msg" class="table table-info table-striped mt-5">

            </table>
        </div>
    </main>
    <script>
        function information(data){
            var table = "";
            var id = "";
            table = `<tr>
                        <th class="text-center"> Id</th>
                        <th class="ps-5"> Name </th>
                </tr>`
            for(let i=0; i<data.length; i++){
                // console.log(data[i]);
                id += `<option valur="${data[i].id}">${data[i].id}</option>`

                table += `<tr>
                        <td class="text-center"> ${data[i].id} </td>
                        <td class="ps-5"> ${data[i].name} </td>
                </tr>`
            }
            document.getElementById("table").innerHTML = table;
            document.getElementById("my-select").innerHTML = id;

        }



        fetch("https://gorest.co.in/public/v2/users")
        .then(response => response.json())
        .then(data => {information(data)})
        .catch(error => console.error(error));


        function dataInfo(data){
            let msg = "";
            msg = `<tr>
                        <th>User Id</th>
                        <th class="w-25">Title</th>
                        <th class="w-50">Body</th>
                    </tr>`
                // console.log(id);
            for(let j=0; j<data.length; j++){
                console.log(data[j].id);

                msg += `<tr>
                        <td> ${data[j].user_id} </td>
                        <td> ${data[j].title} </td>
                        <td> ${data[j].body} </td>
                    </tr> `
            }
            document.getElementById("msg").innerHTML = msg;
            
        }
        function showData(id){
            console.log(id)
            fetch(`https://gorest.co.in/public/v2/users/${id}/posts`)
            .then(response => response.json())
            .then(data => {dataInfo(data)})
            .catch(error => console.error(error));
        }
        
    </script>
    <footer>
        <!-- place footer here -->
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
</body>

</html>